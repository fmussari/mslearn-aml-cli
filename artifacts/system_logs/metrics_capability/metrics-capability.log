2023-08-16T14:02:38.947969Z  INFO telemetry: job_telemetry_init artifact_type=installed branch=origin/de62bb5dc2b4e9fbd00f81de5c360526ee822efa ci_number=20230811.1 ci_name=CommonRuntime-prod-build build_time=2023-08-11 10:33:43.988497
2023-08-16T14:02:38.948158Z  INFO metrics-capability::do_main: metrics_capability: metrics cap config cap_config=MetricsCapConfig { polling_interval_sec: 15, send_to_history_interval_sec: 60, enabled_resource_metrics: ["CpuUtilizationPercentage", "GpuUtilizationPercentage", "GpuEnergyJoules", "GpuMemoryUtilizationPercentage", "GpuMemoryUtilizationMegabytes", "GpuMemoryCapacityMegabytes", "CpuMemoryUtilizationPercentage", "CpuMemoryUtilizationMegabytes", "CpuMemoryCapacityMegabytes", "DiskReadMegabytes", "DiskWriteMegabytes", "NetworkInputMegabytes", "NetworkOutputMegabytes", "IBReceiveMegabytes", "IBTransmitMegabytes", "DiskUsedMegabytes", "DiskAvailMegabytes", "StorageAPISuccessCount", "StorageAPIFailureCount"], reserved_disk_space_bytes: 1400000000, additional_scrape_jobs: [], prometheus_push_gateway_port: None, enable_job_cost_metrics: true }
2023-08-16T14:02:38.948290Z  INFO metrics-capability::do_main: metrics_capability: run token file created
2023-08-16T14:02:38.948328Z  INFO metrics-capability::do_main: metrics_capability: embedded file file="prometheus-template.yml"
2023-08-16T14:02:38.948737Z  INFO metrics-capability::do_main: metrics_capability: prometheus config file created
2023-08-16T14:02:38.948793Z  INFO metrics-capability::do_main: metrics_capability: No GPUs found, skipping nvidia-smi instant exporter
2023-08-16T14:02:38.948922Z  INFO metrics-capability::do_main: metrics_capability::additional_scrape_jobs_configer: created additional scrape jobs additional_scrape_jobs="- targets:\n  - localhost:9500\n"
2023-08-16T14:02:38.948971Z  INFO metrics-capability::do_main: metrics_capability: prometheus push gateway not enabled
2023-08-16T14:02:38.949026Z  INFO metrics-capability::do_main: metrics_capability: starting metrics-cap exporter thread, listen on 0.0.0.0:9500
2023-08-16T14:02:38.949187Z  INFO metrics-capability::do_main: metrics_capability: metrics capability starting service address=/mnt/azureml/cr/j/c3dd093e425c41658549aa90557abd46/.grpc/metrics-capability:0
2023-08-16T14:02:38.949278Z  INFO metrics-capability::do_main:metrics-capability::run_service{address="/mnt/azureml/cr/j/c3dd093e425c41658549aa90557abd46/.grpc/metrics-capability:0" handles=[JoinHandle { id: Id(7) }, JoinHandle { id: Id(8) }, JoinHandle { id: Id(9) }, JoinHandle { id: Id(10) }, JoinHandle { id: Id(11) }, JoinHandle { id: Id(12) }]}: metrics_capability::service: metrics capability starting service address=/mnt/azureml/cr/j/c3dd093e425c41658549aa90557abd46/.grpc/metrics-capability:0
2023-08-16T14:02:38.949510Z  INFO metrics-capability::do_main:metrics-capability::run_service{address="/mnt/azureml/cr/j/c3dd093e425c41658549aa90557abd46/.grpc/metrics-capability:0" handles=[JoinHandle { id: Id(7) }, JoinHandle { id: Id(8) }, JoinHandle { id: Id(9) }, JoinHandle { id: Id(10) }, JoinHandle { id: Id(11) }, JoinHandle { id: Id(12) }]}:serve: grpc_utils::endpoint::serve: serving gRPC service endpoint=Uds("/mnt/azureml/cr/j/c3dd093e425c41658549aa90557abd46/.grpc/metrics-capability:0") retry=ExponentialBackoffRetry { retry_delay_secs: 2, delay_factor: 1000, num_retries: 3 }
2023-08-16T14:02:38.952885Z  INFO metrics_capability: starting prometheus subprocess watcher task
2023-08-16T14:02:38.952926Z  INFO metrics_capability: starting prometheus subprocess: prometheus ["--storage.tsdb.retention.time=30m", "--log.level=info", "--enable-feature=expand-external-labels", "--config.file=/usr/local/bin/prometheus.yml", "--web.listen-address=0.0.0.0:9090"] retry_count=1
2023-08-16T14:02:38.953128Z  INFO metrics_capability: starting cadvisor subprocess watcher task
2023-08-16T14:02:38.953145Z  INFO metrics_capability: starting cadvisor subprocess: cadvisor ["--stderrthreshold=0", "--raw_cgroup_prefix_whitelist=/system.slice/containerd.service", "--listen_ip=0.0.0.0", "--port=8081"] retry_count=1
2023-08-16T14:02:38.954325Z  INFO metrics_capability: started prometheus subprocess
2023-08-16T14:02:38.954394Z  INFO metrics_capability: starting node-exporter subprocess watcher task
2023-08-16T14:02:38.954406Z  INFO metrics_capability: starting node-exporter subprocess: node_exporter ["--collector.disable-defaults", "--collector.infiniband", "--collector.diskstats", "--log.level=info", "--web.listen-address=0.0.0.0:9100"] retry_count=1
2023-08-16T14:02:38.954640Z  INFO metrics_capability: started cadvisor subprocess
2023-08-16T14:02:38.954667Z  INFO metrics_capability: heartbeat: starting
2023-08-16T14:02:38.978007Z  INFO metrics_capability: starting run token updater task
2023-08-16T14:02:38.978182Z  INFO vienna_client::run_history::refresh_run_token{service_endpoint="https://eastus.api.azureml.ms" run_id=RunId { subscription_id: "b5a627da-a00e-4095-b6b9-6512e2455bac", resource_group_name: "rg-mlops-labs", workspace_name: "mlw-mlops-labs", experiment_name: "diabetes-mlflow-example", run_id: "mango_pizza_t4ddxk7vq5" }}: vienna_client::run_history: Calling service service_endpoint="https://eastus.api.azureml.ms"
2023-08-16T14:02:38.981944Z  INFO metrics_capability: started node-exporter subprocess
2023-08-16T14:02:38.981992Z  INFO metrics_capability: starting disk full checker, reserved_disk_space_bytes: 1400000000
2023-08-16T14:02:38.982012Z  INFO metrics_capability: heartbeat: AZ_BATCH_NODE_ROOT_DIR (node_disk_available_bytes) = 12686557184 metric_name=node_disk_available_bytes value=12686557184 root_dir=/mnt/root_dir
2023-08-16T14:02:39.005496Z  INFO metrics_capability: [node-exporter] ts=2023-08-16T14:02:39.005Z caller=node_exporter.go:180 level=info msg="Starting node_exporter" version="(version=1.6.0, branch=HEAD, revision=ff7f9d69b645cb691dd3e84dc3afc88f5c006962)"
2023-08-16T14:02:39.005624Z  INFO metrics_capability: [node-exporter] ts=2023-08-16T14:02:39.005Z caller=node_exporter.go:181 level=info msg="Build context" build_context="(go=go1.20.4, platform=linux/amd64, user=root@f9c3ed0cfbd3, date=20230527-12:03:54, tags=netgo osusergo static_build)"
2023-08-16T14:02:39.005738Z  INFO metrics_capability: [node-exporter] ts=2023-08-16T14:02:39.005Z caller=node_exporter.go:183 level=warn msg="Node Exporter is running as root user. This exporter is designed to run as unprivileged user, root is not required."
2023-08-16T14:02:39.006268Z  INFO metrics_capability: [node-exporter] ts=2023-08-16T14:02:39.006Z caller=diskstats_common.go:111 level=info collector=diskstats msg="Parsed flag --collector.diskstats.device-exclude" flag=^(ram|loop|fd|(h|s|v|xv)d[a-z]|nvme\d+n\d+p)\d+$
2023-08-16T14:02:39.006427Z  INFO metrics_capability: [node-exporter] ts=2023-08-16T14:02:39.006Z caller=diskstats_linux.go:265 level=error collector=diskstats msg="Failed to open directory, disabling udev device properties" path=/run/udev/data
2023-08-16T14:02:39.006582Z  INFO metrics_capability: [node-exporter] ts=2023-08-16T14:02:39.006Z caller=node_exporter.go:110 level=info msg="Enabled collectors"
2023-08-16T14:02:39.006656Z  INFO metrics_capability: [node-exporter] ts=2023-08-16T14:02:39.006Z caller=node_exporter.go:117 level=info collector=diskstats
2023-08-16T14:02:39.013922Z  INFO metrics_capability: [node-exporter] ts=2023-08-16T14:02:39.013Z caller=node_exporter.go:117 level=info collector=infiniband
2023-08-16T14:02:39.035396Z  INFO metrics_capability: [node-exporter] ts=2023-08-16T14:02:39.033Z caller=tls_config.go:274 level=info msg="Listening on" address=[::]:9100
2023-08-16T14:02:39.035698Z  INFO metrics_capability: [node-exporter] ts=2023-08-16T14:02:39.035Z caller=tls_config.go:277 level=info msg="TLS is disabled." http2=false address=[::]:9100
2023-08-16T14:02:39.119731Z  INFO vienna_client::run_history::refresh_run_token{service_endpoint="https://eastus.api.azureml.ms" run_id=RunId { subscription_id: "b5a627da-a00e-4095-b6b9-6512e2455bac", resource_group_name: "rg-mlops-labs", workspace_name: "mlw-mlops-labs", experiment_name: "diabetes-mlflow-example", run_id: "mango_pizza_t4ddxk7vq5" }}: vienna_client::run_history: close time.busy=47.5ms time.idle=94.1ms
2023-08-16T14:02:39.119769Z  INFO metrics_capability: run token refreshed, expiration 2023-08-17 14:02:39.104318600 +00:00
2023-08-16T14:02:39.119909Z  INFO metrics_capability: run token written to file
2023-08-16T14:02:39.135592Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.133Z caller=main.go:174 level=info msg="Experimental expand-external-labels enabled"
2023-08-16T14:02:39.135698Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.134Z caller=main.go:578 level=info msg="Starting Prometheus Server" mode=server version="(version=2.45.0, branch=HEAD, revision=8ef767e396bf8445f009f945b0162fd71827f445)"
2023-08-16T14:02:39.135710Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.134Z caller=main.go:583 level=info build_context="(go=go1.20.5, platform=linux/amd64, user=root@920118f645b7, date=20230623-15:09:49, tags=netgo,builtinassets,stringlabels)"
2023-08-16T14:02:39.135720Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.134Z caller=main.go:584 level=info host_details="(Linux 5.15.0-1040-azure #47~20.04.1-Ubuntu SMP Fri Jun 2 21:38:08 UTC 2023 x86_64 ci71974 (none))"
2023-08-16T14:02:39.135729Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.134Z caller=main.go:585 level=info fd_limits="(soft=262144, hard=262144)"
2023-08-16T14:02:39.135737Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.134Z caller=main.go:586 level=info vm_limits="(soft=unlimited, hard=unlimited)"
2023-08-16T14:02:39.139597Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.138Z caller=web.go:562 level=info component=web msg="Start listening for connections" address=0.0.0.0:9090
2023-08-16T14:02:39.146098Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.145Z caller=main.go:1019 level=info msg="Starting TSDB ..."
2023-08-16T14:02:39.151217Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.149Z caller=tls_config.go:274 level=info component=web msg="Listening on" address=[::]:9090
2023-08-16T14:02:39.151249Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.149Z caller=tls_config.go:277 level=info component=web msg="TLS is disabled." http2=false address=[::]:9090
2023-08-16T14:02:39.154110Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.154Z caller=head.go:595 level=info component=tsdb msg="Replaying on-disk memory mappable chunks if any"
2023-08-16T14:02:39.154185Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.154Z caller=head.go:676 level=info component=tsdb msg="On-disk memory mappable chunks replay completed" duration=2.3µs
2023-08-16T14:02:39.154234Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.154Z caller=head.go:684 level=info component=tsdb msg="Replaying WAL, this may take a while"
2023-08-16T14:02:39.154503Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.154Z caller=head.go:755 level=info component=tsdb msg="WAL segment loaded" segment=0 maxSegment=0
2023-08-16T14:02:39.154583Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.154Z caller=head.go:792 level=info component=tsdb msg="WAL replay completed" checkpoint_replay_duration=43.401µs wal_replay_duration=247.403µs wbl_replay_duration=200ns total_replay_duration=392.806µs
2023-08-16T14:02:39.155463Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.155Z caller=main.go:1040 level=info fs_type=794c7630
2023-08-16T14:02:39.155538Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.155Z caller=main.go:1043 level=info msg="TSDB started"
2023-08-16T14:02:39.155614Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.155Z caller=main.go:1224 level=info msg="Loading configuration file" filename=/usr/local/bin/prometheus.yml
2023-08-16T14:02:39.156839Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.156Z caller=dedupe.go:112 component=remote level=info remote_name=b8231f url=https://eastus.api.azureml.ms/metric/v2.0/subscriptions/b5a627da-a00e-4095-b6b9-6512e2455bac/resourceGroups/rg-mlops-labs/providers/Microsoft.MachineLearningServices/workspaces/mlw-mlops-labs/api/2.0/prometheus/post msg="Starting WAL watcher" queue=b8231f
2023-08-16T14:02:39.156928Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.156Z caller=dedupe.go:112 component=remote level=info remote_name=b8231f url=https://eastus.api.azureml.ms/metric/v2.0/subscriptions/b5a627da-a00e-4095-b6b9-6512e2455bac/resourceGroups/rg-mlops-labs/providers/Microsoft.MachineLearningServices/workspaces/mlw-mlops-labs/api/2.0/prometheus/post msg="Starting scraped metadata watcher"
2023-08-16T14:02:39.157192Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.157Z caller=dedupe.go:112 component=remote level=info remote_name=b8231f url=https://eastus.api.azureml.ms/metric/v2.0/subscriptions/b5a627da-a00e-4095-b6b9-6512e2455bac/resourceGroups/rg-mlops-labs/providers/Microsoft.MachineLearningServices/workspaces/mlw-mlops-labs/api/2.0/prometheus/post msg="Replaying WAL" queue=b8231f
2023-08-16T14:02:39.169394Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.169Z caller=main.go:1261 level=info msg="Completed loading of configuration file" filename=/usr/local/bin/prometheus.yml totalDuration=13.75161ms db_storage=900ns remote_storage=851.713µs web_handler=600ns query_engine=1.1µs scrape=328.205µs scrape_sd=61.701µs notify=900ns notify_sd=1.7µs rules=11.881081ms tracing=6.7µs
2023-08-16T14:02:39.201523Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.201Z caller=main.go:1004 level=info msg="Server is ready to receive web requests."
2023-08-16T14:02:39.201880Z  INFO metrics_capability: [prometheus] ts=2023-08-16T14:02:39.201Z caller=manager.go:995 level=info component="rule manager" msg="Starting rule manager..."
2023-08-16T14:02:41.608155Z  INFO metrics-capability::start: metrics_capability::capability_service: metrics capability lifecycle hook start called
2023-08-16T14:02:41.608345Z  INFO metrics-capability::start: metrics_capability::capability_service: close time.busy=192µs time.idle=17.1µs
2023-08-16T14:02:46.823001Z  INFO metrics-capability::end: metrics_capability::capability_service: metrics capability lifecycle hook end called
2023-08-16T14:02:46.823055Z  INFO metrics-capability::end: metrics_capability::capability_service: close time.busy=55.5µs time.idle=7.60µs
